{"version":3,"file":"img.js","sourceRoot":"","sources":["../../../ts/src/bball/img.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAE9C,MAAM,CAAC,KAAK,UAAU,YAAY;IAC9B,MAAM,IAAI,GAAG,MAAM,YAAY,EAAE,CAAC;IAElC,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IACnF,SAAS,CAAC,wBAAwB,SAAS,IAAI,EAAE,GAAG,CAAC,CAAC;IAEtD,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;IACvD,MAAM,gBAAgB,CAAC,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AACxD,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,gBAAgB,CAAC,EAAU,EAAE,SAAiB,EAAE,OAA2B,EAAE;IAC/F,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;QACrB,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,SAAS,GAAG,EAAE,IAAI,CAAC;IAC7C,CAAC;AACL,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,MAAM,CAAC,GAAW,EAAE,IAAY;IAClD,MAAM,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACxC,IAAI,CAAC,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,0CAA0C,IAAI,EAAE,CAAC,CAAC;IAC1E,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC1C,CAAC,CAAC,WAAW,GAAG,EAAE,CAAC;IACnB,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;IACd,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC;IAC5B,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACd,OAAO,GAAG,CAAC;AACf,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,YAAY,CAAC,GAAG,GAAG;IACrC,EAAE,EAAE,EAAE,UAAU,EAAE,GAAG,EAAE,iDAAiD,EAAE;IAC1E,EAAE,EAAE,EAAE,SAAS,EAAG,GAAG,EAAE,gDAAgD,EAAE;CAC5E;IACG,MAAM,IAAI,GAAuB,EAAE,CAAA;IACnC,KAAK,MAAM,EAAE,IAAI,GAAG,EAAE,CAAC;QACnB,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;IACD,yCAAyC;IACzC,MAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAC7B,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CACtE,CAAC,CAAC;IACH,OAAO,IAAI,CAAC;AAChB,CAAC","sourcesContent":["import { foldedLog, MSG } from \"../global.js\";\n\nexport async function makeLogoImgs() {\n    const imgs = await createImages();\n\n    const minHeight = Math.min(...imgs.map(img => img.getBoundingClientRect().height));\n    foldedLog(`%cusing image height ${minHeight}px`, MSG);\n    \n    const pxBoostImg = window.innerWidth <= 900 ? 50 : 100;\n    await changeImgPxBoost(pxBoostImg, minHeight, imgs);\n}\n\nexport async function changeImgPxBoost(px: number, minHeight: number, imgs: HTMLImageElement[] = []) {\n    for (const img of imgs) {\n        img.style.height = `${minHeight + px}px`;\n    }\n}\n\nexport async function newImg(url: string, elId: string): Promise<HTMLImageElement> {\n    const d = document.getElementById(elId);\n    if (!d) throw new Error(`couldnt' get response title element at ${elId}`);\n    const img = document.createElement('img');\n    d.textContent = '';\n    img.src = url;\n    img.alt = \"image not found\";\n    d.append(img);\n    return img;\n}\n\nexport async function createImages(lgs = [\n    { el: 'wnba_img', url: 'https://cdn.nba.com/logos/leagues/logo-wnba.svg' },\n    { el: 'nba_img',  url: 'https://cdn.nba.com/logos/leagues/logo-nba.svg' },\n]): Promise<HTMLImageElement[]> {\n    const imgs: HTMLImageElement[] = []\n    for (const lg of lgs) {\n        const img = await newImg(lg.url, lg.el);\n        imgs.push(img);\n    }\n    // wait for all images to have real sizes\n    await Promise.all(imgs.map(img =>\n        img.complete ? Promise.resolve() : new Promise(r => img.onload = r)\n    ));\n    return imgs;\n}"]}