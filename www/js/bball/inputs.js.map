{"version":3,"file":"inputs.js","sourceRoot":"","sources":["../../../ts/src/bball/inputs.ts"],"names":[],"mappings":"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","sourcesContent":["import { base, fetchJSON } from \"../global.js\";\nimport { Seasons, Teams } from \"./resp_types.js\"\n\nexport type checkGroup = { box: string, slct: string };\n\nexport async function checkBoxGroupValue(lgrp: checkGroup, rgrp: checkGroup, dflt: number | string\n): Promise<string> {\n    const l = await checkBoxes(lgrp);\n    const r = await checkBoxes(rgrp);\n\n    if (l) return l;\n    if (r) return r;\n    \n    return String(dflt);\n}\n\nexport async function checkBoxes(cg: checkGroup) {\n    const b = document.getElementById(cg.box) as HTMLInputElement;\n    const s = document.getElementById(cg.slct) as HTMLInputElement;\n    if (!b || !s) {\n        throw new Error(`couldn't get element with id ${cg.box} or ${cg.slct}`);\n    }\n    if (b.checked) {\n        return s.value\n    }\n}\n\nexport async function clearCheckBoxes(boxes: string[]) {\n    for (let i = 0; i < boxes.length; i++) {\n        let b = document.getElementById(boxes[i]) as HTMLInputElement;\n        if (!b) throw new Error(`couldn't find input element with id ${boxes[i]}`);\n        b.checked = false;\n    }\n}\n\nexport function clearSearch(focus=false, elId = 'pSearch'): void {\n    const pSearch = document.getElementById(elId) as HTMLInputElement;\n    if (!pSearch) throw new Error(`couldn't get search bar element at ${elId}`);\n    pSearch.value = '';\n    if (focus) pSearch.focus();\n}\n\nexport async function setPHold(player: string) {\n    const ph = document.getElementById('pHold') as HTMLInputElement;\n    ph.value = player;\n}\n\nexport async function lgRadioBtns() {\n    const selected = document.querySelector('input[name=\"leagues\"]:checked') as HTMLInputElement;\n    if (selected) {\n        return selected.value;\n    } else {\n        return 'all';\n    }\n}\n\nexport type inputVals = {\n    lg: string,\n    season: string,\n    team: string,\n}\n\nexport async function getInputVals(): Promise<inputVals> {\n    const lg = await lgRadioBtns();\n    const season = await checkBoxGroupValue(\n        {box: 'post', slct: 'ps_slct'}, \n        {box: 'reg', slct: 'rs_slct'}, \n        88888);\n    const team = await checkBoxGroupValue(\n        {box: 'nbaTm', slct: 'tm_slct'}, \n        {box: 'wnbaTm', slct: 'wTm_slct'}, \n        0);\n\n    return { lg, season, team };\n}\n\n// SELECTORS\n// append options to select\nasync function makeOption(slct: HTMLSelectElement, txt: string, val: string) {\n    let opt = document.createElement('option');\n    opt.textContent = txt;\n    opt.value = val;\n    opt.style.width = '100%';\n    slct.appendChild(opt);\n}\n\nexport async function getSeasons(): Promise<Seasons> {\n    return await fetchJSON(`${base}/seasons`);\n}\n\n// call seaons endpoint for the opts\nexport async function loadSznOptions() {\n    const data = await getSeasons();\n    await buildSznSelects(data);\n}\n\n// accept seasons in data object and make an option for each\nasync function buildSznSelects(data: Seasons) {\n    const rs = document.getElementById('rs_slct') as HTMLSelectElement;\n    const ps = document.getElementById('ps_slct') as HTMLSelectElement;\n    for (let s of data) {\n        if (s.season_id.substring(0, 1) === '4') {\n            await makeOption(ps, s.season, s.season_id);\n        } else if (s.season_id.substring(0, 1) === '2') {\n            await makeOption(rs, s.season, s.season_id);\n        }\n    }\n}\n\n\nexport async function getTeams(): Promise<Teams> {\n    return await fetchJSON(`${base}/teams`);\n}\n\n// call seaons endpoint for the opts\nexport async function loadTeamOptions() {\n    const data = await getTeams();\n    await buildTeamSelects(data);\n}\n\n// accept seasons in data object and make an option for each\nasync function buildTeamSelects(data: Teams) {\n    const nba = document.getElementById('tm_slct') as HTMLSelectElement;\n    const wnba = document.getElementById('wTm_slct') as HTMLSelectElement;\n    for (let t of data) {\n        let txt = `${t.team} | ${t.team_long}`\n        if (t.league === 'NBA') {\n            await makeOption(nba, txt, t.team_id);\n        } else if (t.league === 'WNBA') {\n            await makeOption(wnba, txt, t.team_id);\n        }\n    }\n}"]}